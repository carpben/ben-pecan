(this["webpackJsonppecan-ben"]=this["webpackJsonppecan-ben"]||[]).push([[0],{37:function(e,n,t){},48:function(e,n,t){"use strict";t.r(n);var c,r,a=t(0),o=t.n(a),s=t(28),i=t.n(s),u=(t(37),t(24)),b=t.n(u),l=t(29),f=t(7),d=t(25),j=t(31),O=(Object.entries,Object.values),h=t(20),m=t(18),p=t(4),v=10,g=function(e){return e<5},y=Object.entries,k=function(e,n){var t={};return y(e).forEach((function(e){var c=Object(f.a)(e,2),r=c[0],a=c[1];t[r]=n(a,r)})),t},w=function(e,n){return Array.from(new Array(e)).reduce((function(e,t,c){var r="".concat(n,"_").concat(c);return Object(p.a)(Object(p.a)({},e),{},Object(m.a)({},r,{type:n,name:r,canAccess:g(c)}))}),{})},x=w(v,"connection"),A=["connection","database","schema","table","column"],S=function(e){return new Promise((function(n,t){setTimeout((function(){var c=function(e){if(e.length>4)return{success:!1,message:"invalid key list"};for(var n=Object(p.a)({},x),t=Object(h.a)(e),c=0;t.length;){var r=t.shift();if(!n[r])return{success:!1,message:"no such key"};var a=n[r];if(!a.canAccess)return{success:!1,message:"no access"};a.children||(a.children=w(v,A[c+1])),n=a.children,c++}return{success:!0,children:k(n,(function(e){return Object(p.a)(Object(p.a)({},e),{},{children:void 0})}))}}(e);c.success?n(c.children):t(c.message)}),100)}))},E=t(21),N=t(30),B=t(32),C=t(11),J=t(26),z=Object(C.a)(c||(c=Object(J.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"]))),I=Object(C.a)(r||(r=Object(J.a)(["\n\tpadding: unset;\n\tbackground-color: unset;\n\tborder: unset;\n\t:focus {\n\t\toutline: none;\n\t}\n"]))),L=t(3),M=function(e){var n=e.handler,t=e.stl,c=e.other,r=Object(B.a)(e,["handler","stl","other"]);return Object(L.a)("button",Object(p.a)(Object(p.a)({onClick:n,css:[P,t]},r),c))},P=Object(C.a)(I,{cursor:"pointer"}),T=o.a.memo((function(e){var n=e.node,t=e.openNode,c=n.children,r=n.canAccess,o=n.type,s=Object(a.useState)(!1),i=Object(f.a)(s,2),u=i[0],b=i[1],l=Object(a.useCallback)((function(e){console.log("29"),t([n.name].concat(Object(h.a)(e)))}),[n]),d=r&&"column"!==o,j=c&&u;return Object(L.b)("div",{children:[Object(L.b)(M,{handler:d?function(){u&&r?b(!1):(t([n.name]),b(!0))}:function(){},css:{display:"flex",color:r?"unset":"#888",fontSize:13,marginBottom:4,cursor:d?"pointer":"unset"},other:{disabled:!d},children:[Object(L.a)("div",{css:[{width:30},z],children:Object(L.a)(N.a,{icon:"column"===o?E.c:j?E.a:E.b})}),n.name]}),j&&Object(L.a)("div",{css:{marginLeft:20},children:O(c).slice(0,5).map((function(e){return Object(L.a)(T,{node:e,openNode:l},e.name)}))})]})})),_=T;var q=function(){var e=Object(j.a)({}),n=Object(f.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)([]),o=Object(f.a)(r,2),s=o[0],i=o[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(b.a.mark((function e(){var n,t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(s);case 2:n=e.sent,t=Object(d.flatten)(s.map((function(e){return[e,"children"]}))),c((function(e){if(console.log(e),0===t.length)return n;Object(d.set)(e,t,n)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s]),Object(L.a)("div",{css:{margin:20},children:t&&O(t).map((function(e){return Object(L.a)(_,{node:e,openNode:function(e){console.log(e),i(e)}},e.name)}))})},D=t(5);i.a.render(Object(D.jsx)(o.a.StrictMode,{children:Object(D.jsx)(q,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.e998b99a.chunk.js.map